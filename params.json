{"name":"Comprotocol","tagline":"A very basic communication protocol used for education purpose.","body":"# Protokoll Beschreibung (comprotocol)\r\n===========\r\n\r\nEin sehr einfach gehaltenes Kommunikationsprotokoll. Das Protokoll wird für schulische Zwecke genutzt und dient zum lernen.\r\n\r\ncode api\r\n\r\n## Protokoll Aufbau\r\n\r\nDes Prtokoll ist wie folgt aufgebaut:\r\n\r\n1. Entweder kann man einfach einen Command senden\r\n\r\n|| 1 Byte              |\r\n|--:| :-----------------: |\r\n|1| initialisierung     |\r\n|2| Ziel ID             |\r\n|3| Source ID           |\r\n|4| command (max 127)   |\r\n|5| Checksumme          |\r\n\r\n2. Oder einen Text übermitteln\r\n\r\n|| 1 Byte               |\r\n|--:| :---------------: |\r\n|1| Initialisierung    |\r\n|2| Ziel ID             |\r\n|3| Source ID           |\r\n|4| command(text) + textlänge  |\r\n|5| TEXT (max 128byte)  |\r\n|6| Checksumme          |\r\n\r\n### Keine Übermittlung\r\n\r\nBei keiner Überittlung wird die Verbindung immer auf 1 gehalten.\r\nWichtig beim lesen und schreiben von Nachrichten muss dieser Wert umgekehrt (1 auf 0) gesetzt werden.\r\nBei dieser Dokumentation wird davon ausgegangen, dass das ausgehende oder eingehende Byte bereits umgekehrt, also 0 bei keinem Senden erhält.\r\n\r\n### Initialisierung(#Initialisierung)\r\n\r\nUm zu erkennen, dass eine Nachricht übermittelt wird, wird ein Initialisierungs Byte genutzt.\r\nDieses muss immer **1010 1010** betragen. Dies wird einheitlich bei allen Kontrollern, die dieses Protokoll nutzen.\r\n\r\n### Ziel ID\r\n\r\nDie Ziel ID ist eine 1 Byte grosse Zahl, die genutzt wird um zu erkennen, an wen man die Nachticht senden möchte.\r\n\r\n### Source ID \r\n\r\nDie Source ID wird genutzt um zu erkenne, von wem die Nachricht ist und an wen man antworten sollte, sollte eine Antwort benötigt werden.\r\n\r\n### Command übermitteln\r\n\r\nBeim Command übermitteln wird bei dem command byte(4) das erste byte auf 0 gesetzt. Die restlichen können zur übermittlung des Commands genutzt werden.\r\n\r\n#### Kurze Command list\r\n\r\nHier eine kurze liste der haupt commands. Das Protokoll wurde dafür gebaut, damit man jederzeit eigene commands hinzufügen kann.\r\n\r\n| byte | name |\r\n| ---- | ---- |\r\n| 000 0001 | Okey |\r\n| 000 0010 | Fehler: Neu senden |\r\n\r\n### Text übermitteln\r\n\r\nBeim Übermitteln eines Textes wird beim command byte(4) des erste byte auf 1 gesetzt und die restlichen bytes dafür genutzt, um die grösse der kommenden Nachricht zu übermitteln.\r\n\r\n### Checksum\r\n\r\nBenörigt um die erhaltenen bytes zu kontrollieren. Die checksumme ermöglicht es zu erkennen, ob ein fehler bei der Übermittlung entschaden ist.\r\n\r\nDie Checksumme wird erstellt indem man alle zuvor gesendeten bytes XOR miteinander verknüpft.\r\n\r\n## Structure chart\r\n\r\nDas *structure chart* aller Funktionen:\r\n\r\n![alt text](./images/Comprotocol_structurechart.png \"structure chart\")\r\n\r\n\r\n## Funktionen Struktugram\r\n\r\nAlle Struktogramme:\r\n\r\n### f_co_initializeOverflowInterrupt\r\n\r\n![f_co_initializeOverflowInterrupt](./images/strg/f_co_initializeOverlowInterrupt.PNG \"f_co_initializeOverflowInterrupt\")\r\n\r\n### f_co_send\r\n\r\n![f_co_send](./images/strg/f_co_send.PNG \"f_co_send\")\r\n\r\n### f_co_sendText\r\n\r\n![f_co_sendText](./images/strg/f_co_sendText.PNG \"f_co_sendText\")\r\n\r\n### f_co_sendByte\r\n\r\n![f_co_sendByte](./images/strg/f_co_sendByte.PNG \"f_co_sendByte\")\r\n\r\n### f_co_sendBit\r\n\r\n![f_co_sendBit](./images/strg/f_co_sendBit.PNG \"f_co_sendBit\")\r\n\r\n### f_co_init_waitmode\r\n\r\n![f_co_init_waitmode](./images/strg/f_co_init_waitmode.PNG \"f_co_init_waitmode\")\r\n\r\n### f_co_update\r\n\r\n![f_co_init_waitmode](./images/strg/f_co_update.PNG \"f_co_update\")\r\n\r\n### f_co_processbyte\r\n\r\n![f_co_processbyte](./images/strg/f_co_processbyte.PNG \"f_co_processbyte\")\r\n\r\n\r\n## API\r\n\r\nDie Funktionsbeschreibungen und Dokumentation ist unter folgendem link zu finden:\r\n[http://bigz94.github.io/comprotocol/doc/doxy/html/index.html](http://bigz94.github.io/comprotocol/doc/doxy/html/co_8h.html)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}